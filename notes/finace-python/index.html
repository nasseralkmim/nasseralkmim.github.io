<!DOCTYPE html>
<html lang="en-us">

<head>
  <title>Finance data in python | Nasser&#39;s personal website</title>

  <meta charset="UTF-8">
  <meta name="language" content="en">
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  
  

  <link rel="shortcut icon" type="image/png" href="/favicon.ico" />


  
  
    
 
  
  
  
  
  
  
    
    <link type="text/css" rel="stylesheet" href="/css/post.min.a74e392619e10b534ed018113147a605e2dfdc329ba2e2de512308b7b193758c.css" integrity="sha256-p045JhnhC1NO0BgRMUemBeLf3DKbouLeUSMIt7GTdYw="/>
  
    
    <link type="text/css" rel="stylesheet" href="/css/custom.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" integrity="sha256-47DEQpj8HBSa&#43;/TImW&#43;5JCeuQeRkm5NMpJWZG3hSuFU="/>
  
  
   
   
    

<script type="application/ld+json">
  
    { 
      "@context": "http://schema.org", 
      "@type": "WebSite", 
      "url": "https:\/\/nasseralkmim.github.io\/notes\/finace-python\/",
      "name": "Finance data in python",
      "author": {
        "@type": "Person",
        "name": ""
      },
      "description": ""
    }
  
  </script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-74704246-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
</head>

<body>
  <div class="burger__container">
  <div class="burger" aria-controls="navigation" aria-label="Menu">
    <div class="burger__meat burger__meat--1"></div>
    <div class="burger__meat burger__meat--2"></div>
    <div class="burger__meat burger__meat--3"></div>
  </div>
</div>
 

  <nav class="nav" id="navigation">
  <ul class="nav__list">
    
    
      <li>
        <a  href="/">home</a>
      </li>
    
      <li>
        <a  class="active"
         href="/notes">notes</a>
      </li>
    
  </ul>
</nav>


  <main>
    
    

    <div class="flex-wrapper">
      <div class="post__container">
        <div class="post">
          <header class="post__header">
            <h1 id="post__title">Finance data in python</h1>
            <time datetime="2020-12-25 00:00:00 &#43;0000 UTC" class="post__date">Dec 25 2020</time> 
          </header>
          <article class="post__content">
              

<div id="outline-container-headline-1" class="outline-2">
<h2 id="headline-1">
Introdução
</h2>
<div id="outline-text-headline-1" class="outline-text-2">
<p>
Usar biblioteca <code class="verbatim">yahooquery</code> pois parece ser mais completa e melhor que <code class="verbatim">yfinance</code>.</p>
<div class="src src-jupyter-python">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">import yahooquery as yf
import pandas as pd
pd.options.display.float_format = &#39;{:,.2f}&#39;.format
import matplotlib
import matplotlib.pyplot as plt
matplotlib.style.use(&#39;seaborn&#39;)</code></pre></div>
</div>
</div>
</div>
<div id="outline-container-headline-2" class="outline-2">
<h2 id="headline-2">
Preço em tempo real
</h2>
<div id="outline-text-headline-2" class="outline-text-2">
<div class="src src-jupyter-python">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">ticker = yf.Ticker(&#39;EGIE3.SA&#39;)
print(ticker.quotes[&#39;EGIE3.SA&#39;][&#39;bid&#39;])</code></pre></div>
</div>
<pre class="example">
44.13
</pre>
</div>
</div>
<div id="outline-container-headline-3" class="outline-2">
<h2 id="headline-3">
Histórico da cotação
</h2>
<div id="outline-text-headline-3" class="outline-text-2">
<div class="src src-jupyter-python">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">ticker.history(period=&#39;max&#39;).close.plot(ylabel=&#39;price R$&#39;, xlabel=&#39;date&#39;)
ticker.history(start=&#39;2018-09-15&#39;, end=&#39;2018-09-18&#39;).close.plot(ylabel=&#39;price R$&#39;, xlabel=&#39;date&#39;)</code></pre></div>
</div>
<p><img src="./jupyter/9eb70397cb6c102ce0d508cef61d78a0862577c1.png" alt="./jupyter/9eb70397cb6c102ce0d508cef61d78a0862577c1.png" title="./jupyter/9eb70397cb6c102ce0d508cef61d78a0862577c1.png" /></p>
</div>
</div>
<div id="outline-container-headline-4" class="outline-2">
<h2 id="headline-4">
Informação sobre empresa
</h2>
<div id="outline-text-headline-4" class="outline-text-2">
<div class="src src-jupyter-python">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">print(ticker.asset_profile)</code></pre></div>
</div>
<pre class="example">
{&#39;EGIE3.SA&#39;: {&#39;address1&#39;: &#39;Rua Paschoal ApOstolo PItsica, no 5064&#39;, &#39;address2&#39;: &#39;Agronomica&#39;, &#39;city&#39;: &#39;FlorianÃ³polis&#39;, &#39;state&#39;: &#39;SC&#39;, &#39;zip&#39;: &#39;88025-255&#39;, &#39;country&#39;: &#39;Brazil&#39;, &#39;phone&#39;: &#39;55 48 3221 7225&#39;, &#39;fax&#39;: &#39;55 48 3221 7253&#39;, &#39;website&#39;: &#39;http://www.engieenergia.com.br&#39;, &#39;industry&#39;: &#39;Utilities—Regulated Electric&#39;, &#39;sector&#39;: &#39;Utilities&#39;, &#39;longBusinessSummary&#39;: &#39;Engie Brasil Energia S.A., together with its subsidiaries, generates, sells, and trades in electrical energy in Brazil. The company operates 60 plants, including 11 hydroelectric power plants; 4 thermal power plants; and 45 complementary plants, which comprise 3 biomass, 38 wind farms, 2 photovoltaic solar power plants, and 2 small hydroelectric plants in the 21 states of Brazil. As of December 31, 2019, it had an installed capacity of 10,431.2 megawatts. The company also transports natural gas through 4,500 km of gas pipelines in the Southeast, Northeast, and North regions of Brazil. In addition, it engages in manufacture, wholesale, retail sale, operation, and maintenance of solar panels. The company was formerly known as Tractebel Energia S.A. and changed its name to Engie Brasil Energia S.A. in July 2016. The company was incorporated in 2005 and is headquartered in FlorianÃ³polis, Brazil. Engie Brasil Energia S.A. operates as a subsidiary of ENGIE SA.&#39;, &#39;fullTimeEmployees&#39;: 1398, &#39;companyOfficers&#39;: [{&#39;maxAge&#39;: 1, &#39;name&#39;: &#39;Mr. Eduardo Antonio Gori Sattamini&#39;, &#39;title&#39;: &#39;CEO, Investor Relations Officer &amp; Member of Management Board&#39;, &#39;exercisedValue&#39;: 0, &#39;unexercisedValue&#39;: 0}, {&#39;maxAge&#39;: 1, &#39;name&#39;: &#39;Mr. Marcelo Cardoso Malta&#39;, &#39;title&#39;: &#39;CFO &amp; Member of Management Board&#39;, &#39;exercisedValue&#39;: 0, &#39;unexercisedValue&#39;: 0}, {&#39;maxAge&#39;: 1, &#39;name&#39;: &#39;Mr. Jose Luiz Jansson Laydner&#39;, &#39;title&#39;: &#39;Chief Generation Officer &amp; Member of Management Board&#39;, &#39;exercisedValue&#39;: 0, &#39;unexercisedValue&#39;: 0}, {&#39;maxAge&#39;: 1, &#39;name&#39;: &#39;Mr. Gabriel Mann dos Santos&#39;, &#39;title&#39;: &#39;Chief Trading Officer,  Energy Commercialization Officer &amp; Member of Management Board&#39;, &#39;exercisedValue&#39;: 0, &#39;unexercisedValue&#39;: 0}, {&#39;maxAge&#39;: 1, &#39;name&#39;: &#39;Mr. Guilherme Slovinski Ferrari&#39;, &#39;title&#39;: &#39;Chief New Bus.es, Strategy &amp; Innovation Officer and Member of Management Board&#39;, &#39;exercisedValue&#39;: 0, &#39;unexercisedValue&#39;: 0}, {&#39;maxAge&#39;: 1, &#39;name&#39;: &#39;Mr. Marcos Keller Amboni&#39;, &#39;title&#39;: &#39;Chief Regulation &amp; Market Officer and Member of Management Board&#39;, &#39;exercisedValue&#39;: 0, &#39;unexercisedValue&#39;: 0}, {&#39;maxAge&#39;: 1, &#39;name&#39;: &#39;Ms. Luciana Moura Nabarrete&#39;, &#39;title&#39;: &#39;Chief Admin. Officer &amp; Member of Management Board&#39;, &#39;exercisedValue&#39;: 0, &#39;unexercisedValue&#39;: 0}, {&#39;maxAge&#39;: 1, &#39;name&#39;: &#39;Mr. Gustavo Henrique Labanca Novo&#39;, &#39;age&#39;: 51, &#39;title&#39;: &#39;CEO of TAG &amp; Alternate Director&#39;, &#39;yearBorn&#39;: 1968, &#39;exercisedValue&#39;: 0, &#39;unexercisedValue&#39;: 0}, {&#39;maxAge&#39;: 1, &#39;name&#39;: &#39;Mr. Leonardo Augusto Serpa&#39;, &#39;age&#39;: 39, &#39;title&#39;: &#39;Alternate Director&#39;, &#39;yearBorn&#39;: 1980, &#39;exercisedValue&#39;: 0, &#39;unexercisedValue&#39;: 0}, {&#39;maxAge&#39;: 1, &#39;name&#39;: &#39;Ms. Natacha Marly Herero Et Guichard&#39;, &#39;age&#39;: 48, &#39;title&#39;: &#39;Group Controller&#39;, &#39;yearBorn&#39;: 1971, &#39;exercisedValue&#39;: 0, &#39;unexercisedValue&#39;: 0}], &#39;auditRisk&#39;: 5, &#39;boardRisk&#39;: 7, &#39;compensationRisk&#39;: 1, &#39;shareHolderRightsRisk&#39;: 6, &#39;overallRisk&#39;: 5, &#39;governanceEpochDate&#39;: &#39;2019-11-01 21:00:00&#39;, &#39;maxAge&#39;: 86400}}
</pre>
</div>
</div>
<div id="outline-container-headline-5" class="outline-2">
<h2 id="headline-5">
FII
</h2>
<div id="outline-text-headline-5" class="outline-text-2">
<div class="src src-jupyter-python">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">fii = yf.Ticker(&#39;VISC11.SA&#39;)
print(fii.asset_profile)
print(fii.quotes[&#39;VISC11.SA&#39;][&#39;bid&#39;])
fii.history().close.plot()</code></pre></div>
</div>
<pre class="example">
{&#39;VISC11.SA&#39;: {&#39;country&#39;: &#39;Brazil&#39;, &#39;industry&#39;: &#39;REIT - Retail&#39;, &#39;sector&#39;: &#39;Financial&#39;, &#39;companyOfficers&#39;: [], &#39;maxAge&#39;: 86400}}
115.85
</pre>
<p><img src="./jupyter/8c52cf815130831fa0648be880cbce49901e754b.png" alt="./jupyter/8c52cf815130831fa0648be880cbce49901e754b.png" title="./jupyter/8c52cf815130831fa0648be880cbce49901e754b.png" /></p>
</div>
</div>


              
                  

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_SVG"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
            showMathMenu: false, //disables context menu
            tex2jax: {
            inlineMath: [ ['$','$'], ['\\(','\\)'] ]
           }
    });
</script>
              
          </article>
          

<ul class="tags__list">
    
    <li class="tag__item">
        <a class="tag__link" href="https://nasseralkmim.github.io/tags/python/">python</a>
    </li>
    <li class="tag__item">
        <a class="tag__link" href="https://nasseralkmim.github.io/tags/finance/">finance</a>
    </li>
    <li class="tag__item">
        <a class="tag__link" href="https://nasseralkmim.github.io/tags/data-analysis/">data-analysis</a>
    </li>
    <li class="tag__item">
        <a class="tag__link" href="https://nasseralkmim.github.io/tags/portugues/">portugues</a>
    </li></ul>

 <div class="pagination">
  
    <a class="pagination__item" href="https://nasseralkmim.github.io/notes/org-mode-magic/">
        <span class="pagination__label">Previous Post</span>
        <span class="pagination__title">Org-mode magic</span>
    </a>
  

  
    <a class="pagination__item" href="https://nasseralkmim.github.io/notes/favorite-typeface/">
      <span class="pagination__label">Next Post</span>
      <span class="pagination__title" >Favorite typeface</span>
    </a>
  
</div>

          <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "nasseralkmim" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
          <footer class="post__footer">
            


<div class="social-icons">
  
     
    
      <a class="social-icons__link" rel="me" title="Email"
         href="mailto:nasser.alkmim@gmail.com"
         target="_blank" rel="noopener">
        <div class="social-icons__icon" style="background-image: url('https://nasseralkmim.github.io/svg/email.svg')"></div>
      </a>
    
  
     
    
      <a class="social-icons__link" rel="me" title="LinkedIn"
         href="https://www.linkedin.com/in/nasser-alkmim-300882a6/"
         target="_blank" rel="noopener">
        <div class="social-icons__icon" style="background-image: url('https://nasseralkmim.github.io/svg/linkedin.svg')"></div>
      </a>
    
  
     
    
      <a class="social-icons__link" rel="me" title="GitHub"
         href="https://github.com/nasseralkmim"
         target="_blank" rel="noopener">
        <div class="social-icons__icon" style="background-image: url('https://nasseralkmim.github.io/svg/github.svg')"></div>
      </a>
    
  
     
    
      <a class="social-icons__link" rel="me" title="Instagram"
         href="https://instagram.com/naszr"
         target="_blank" rel="noopener">
        <div class="social-icons__icon" style="background-image: url('https://nasseralkmim.github.io/svg/instagram.svg')"></div>
      </a>
    
     
</div>

            <p>© 2021</p>
          </footer>
          </div>
      </div>
      
      <div class="toc-container">
           <div class="toc-post-title">Finance data in python</div> 
        <nav id="TableOfContents">
<ul>
<li><a href="#headline-1">Introdução</a>
</li>
<li><a href="#headline-2">Preço em tempo real</a>
</li>
<li><a href="#headline-3">Histórico da cotação</a>
</li>
<li><a href="#headline-4">Informação sobre empresa</a>
</li>
<li><a href="#headline-5">FII</a>
</li>
</ul>
</nav>
      </div>
      
    </div>
    

  </main>

   

  
  <script src="/js/index.min.49e4d8a384357d9b445b87371863419937ede9fa77737522ffb633073aebfa44.js" integrity="sha256-SeTYo4Q1fZtEW4c3GGNBmTft6fp3c3Ui/7YzBzrr&#43;kQ=" crossorigin="anonymous"></script>
  
  
  

  
  
  

  
    <script src="/js/table-of-contents.js"></script>
  


</body>

</html>
