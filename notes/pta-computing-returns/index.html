<!DOCTYPE html>
<html lang="en-us">
<head>
  <link rel="preload" href="../../lib/font-awesome/webfonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="../../lib/font-awesome/webfonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="../../lib/font-awesome/webfonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="../../lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <script type="text/javascript" src="https://latest.cactus.chat/cactus.js"></script>
  <link rel="stylesheet" href="https://latest.cactus.chat/style.css" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> Computing returns with plain text account tools | Notes repository</title>
  <link rel = 'canonical' href = 'https://nasseralkmim.github.io/notes/pta-computing-returns/'>
  <meta name="description" content="This is a page where I collect some of my post-worthy notes and some projects that I have worked on.">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="Computing returns with plain text account tools" />
<meta property="og:description" content="Introduction In this post, I go over an example of how to compute returns using a plain text accounting (PTA) tool hledger." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://nasseralkmim.github.io/notes/pta-computing-returns/" /><meta property="article:section" content="notes" />
<meta property="article:published_time" content="2024-01-06T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-01-06T15:20:16+00:00" />


  <meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Computing returns with plain text account tools"/>
<meta name="twitter:description" content="Introduction In this post, I go over an example of how to compute returns using a plain text accounting (PTA) tool hledger."/>

  
  
    
  
  
  <link rel="stylesheet" href="https://nasseralkmim.github.io/css/styles.c8c8c50244e0ca3193992f4e67683c8da29b4fca0be3d366b16ebd56ae150185516d4fa17249d511149028dada597df7392da249242424da6deab9a47fd085f1.css" integrity="sha512-yMjFAkTgyjGTmS9OZ2g8jaKbT8oL49NmsW69Vq4VAYVRbU&#43;hcknVERSQKNraWX33OS2iSSQkJNpt6rmkf9CF8Q=="> 

  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://nasseralkmim.github.io/images/favicon.ico" />

  
  
  
  
  
    
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-74704246-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  
  
<script src=../../js/toc.js></script>
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;" aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="../../">home</a></li>
         
        <li><a href="../../notes">notes</a></li>
         
        <li><a href="../../tags">tags</a></li>
         
        <li><a href="../../about">about</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" https://nasseralkmim.github.io/notes/managing-software-versions/" aria-label="Previous">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#" aria-label="Share">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fnasseralkmim.github.io%2fnotes%2fpta-computing-returns%2f" aria-label="Facebook">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fnasseralkmim.github.io%2fnotes%2fpta-computing-returns%2f&text=Computing%20returns%20with%20plain%20text%20account%20tools" aria-label="Twitter">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fnasseralkmim.github.io%2fnotes%2fpta-computing-returns%2f&title=Computing%20returns%20with%20plain%20text%20account%20tools" aria-label="Linkedin">
      <i class="fab fa-linkedin " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fnasseralkmim.github.io%2fnotes%2fpta-computing-returns%2f&is_video=false&description=Computing%20returns%20with%20plain%20text%20account%20tools" aria-label="Pinterest">
      <i class="fab fa-pinterest " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Computing%20returns%20with%20plain%20text%20account%20tools&body=Check out this article: https%3a%2f%2fnasseralkmim.github.io%2fnotes%2fpta-computing-returns%2f" aria-label="Email">
      <i class="fas fa-envelope " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fnasseralkmim.github.io%2fnotes%2fpta-computing-returns%2f&title=Computing%20returns%20with%20plain%20text%20account%20tools" aria-label="Pocket">
      <i class="fab fa-get-pocket " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fnasseralkmim.github.io%2fnotes%2fpta-computing-returns%2f&title=Computing%20returns%20with%20plain%20text%20account%20tools" aria-label="reddit">
      <i class="fab fa-reddit " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fnasseralkmim.github.io%2fnotes%2fpta-computing-returns%2f&name=Computing%20returns%20with%20plain%20text%20account%20tools&description=Introduction%20In%20this%20post%2c%20I%20go%20over%20an%20example%20of%20how%20to%20compute%20returns%20using%20a%20plain%20text%20accounting%20%28PTA%29%20tool%20hledger." aria-label="Tumblr">
      <i class="fab fa-tumblr " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fnasseralkmim.github.io%2fnotes%2fpta-computing-returns%2f&t=Computing%20returns%20with%20plain%20text%20account%20tools" aria-label="Hacker News">
      <i class="fab fa-hacker-news " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    
    <div id="toc">
      <nav id="TableOfContents">
<ul>
<li><a href="#headline-1">Introduction</a>
</li>
<li><a href="#headline-2">Initial investment</a>
</li>
<li><a href="#headline-3">Cost and value</a>
</li>
<li><a href="#headline-4">Initial ROI report</a>
</li>
<li><a href="#headline-5">Cash flow event</a>
</li>
<li><a href="#headline-6">What is IRR (internal rate of return)</a>
</li>
<li><a href="#headline-7">What is TWR (time weighted return)</a>
</li>
</ul>
</nav>
    </div>
    
  </span>
</div>


  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1 class="posttitle" itemprop="name headline">
        Computing returns with plain text account tools
      </h1>
      <div class="meta">
        
        
        
        
        
        
        
        
        
        <div class="postdate">
          
          <time datetime="2024-01-06 00:00:00 &#43;0000 UTC" itemprop="datePublished">Jan 6 2024</time>
          
            (Updated: <time datetime="2024-01-06 15:20:16 &#43;0000 UTC" itemprop="dateModified">Jan 6 2024</time>)
          
        </div>
        
        
        <div class="article-read-time">
          <i class="far fa-clock"></i>
          
          7 minute read
        </div>
        
        
        
        <div class="article-tag">
            <i class="fas fa-tag"></i>
            
            
            <a class="tag-link" href="../../tags/pta" rel="tag">pta</a>
            
             ,  
            <a class="tag-link" href="../../tags/finance" rel="tag">finance</a>
            
        </div>
        
      </div>
    </header>

  
    
    <div class="content" itemprop="articleBody">
      
<div id="outline-container-headline-1" class="outline-2">
<h2 id="headline-1">
Introduction
</h2>
<div id="outline-text-headline-1" class="outline-text-2">
<p>
In this post, I go over an example of how to compute returns using a plain text accounting (PTA) tool <code class="verbatim">hledger</code>.
PTA just means that we process our transactions recorded in plain text files to extract useful accounting information.</p>
</div>
</div>
<div id="outline-container-headline-2" class="outline-2">
<h2 id="headline-2">
Initial investment
</h2>
<div id="outline-text-headline-2" class="outline-text-2">
<p>
To begin, we consider a purchase of an asset</p>
<div class="src src-ledger">
<pre tabindex="0"><code class="language-ledger" data-lang="ledger">2023-01-01 * Buy some shares
    assets:investments:stocks  1 SHARE @ $ 100.00
    assets:cash</code></pre>
</div>
<p>
Then the price increases<sup class="footnote-reference"><a id="footnote-reference-1" href="#footnote-1">1</a></sup> on the next month, recorded with the <code class="verbatim">P</code> directive.</p>
<div class="src src-ledger">
<pre tabindex="0"><code class="language-ledger" data-lang="ledger">P 2023-02-01 SHARE $ 102.00</code></pre>
</div>
</div>
</div>
<div id="outline-container-headline-3" class="outline-2">
<h2 id="headline-3">
Cost and value
</h2>
<div id="outline-text-headline-3" class="outline-text-2">
<p>
We can check how hledger deals with &#34;cost&#34; and &#34;value&#34;.
Cost is what resources (cash) were mobilized to obtain an asset.
The value option<sup class="footnote-reference"><a id="footnote-reference-2" href="#footnote-2">2</a></sup> is a bit more general and can depends on what one wants from the data.
Here are some options,</p>
<div class="src src-sh">
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>hledger -f tir.ledger reg investments -B
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>hledger -f tir.ledger reg investments -V
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>hledger -f tir.ledger reg investments --value<span style="color:#666">=</span>end
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span>hledger -f tir.ledger reg investments --value<span style="color:#666">=</span><span style="color:#a2f;font-weight:bold">then</span></span></span></code></pre></div>
</div>
<pre class="example">
2023-01-01 Buy some shares      as:in:stocks              $ 100.00      $ 100.00
2023-01-01 Buy some shares      as:in:stocks              $ 102.00      $ 102.00
2023-01-01 Buy some shares      as:in:stocks              $ 102.00      $ 102.00
2023-01-01 Buy some shares      as:in:stocks               1 SHARE       1 SHARE
</pre>
<p>
We notice that <code class="verbatim">-B</code> results in the cost of the asset when we bought it.
The <code class="verbatim">-V</code> flag results in the same as <code class="verbatim">--value=end</code> which uses the journal&#39;s end date — in this case, 02/01, when we informed the new market price.
However, if we specify manually the end date, it takes this date,</p>
<div class="src src-sh">
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>hledger -f tir.ledger reg investments -V -e 2023-01-31
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>hledger -f tir.ledger reg investments --value<span style="color:#666">=</span>end -e 2023-01-31</span></span></code></pre></div>
</div>
<pre class="example">
2023-01-01 Buy some shares      as:in:stocks               1 SHARE       1 SHARE
2023-01-01 Buy some shares      as:in:stocks               1 SHARE       1 SHARE
</pre>
<p>
Notice that before we use the directive <code class="verbatim">P</code> to inform the price, hledger does not know about the <em>market price</em>.
We can use the price specified in the asset purchase as market price on that day.
This is done with the flag <code class="verbatim">--infer-market-prices</code>.</p>
<div class="src src-sh">
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>hledger -f tir.ledger reg investments -V -e 2023-01-31 --infer-market-price
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>hledger -f tir.ledger reg investments --value<span style="color:#666">=</span>end -e 2023-01-31 --infer-market-price</span></span></code></pre></div>
</div>
<pre class="example">
2023-01-01 Buy some shares      as:in:stocks              $ 100.00      $ 100.00
2023-01-01 Buy some shares      as:in:stocks              $ 100.00      $ 100.00
</pre>
<p>
Now hledger knows that on 01/01 the market price is $100.
And by this date, we only know the price on 01/01.</p>
<p>
The <code class="verbatim">--then</code> flag uses the value determined by the market on the day of the posting — or cash flow.
This is useful to compute the return on our investments, so we can compare our portfolio with the market.
That is the most useful information an investor can have.
It answers the simple question: &#34;Should I have just bought the market portfolio?&#34; — and not doing any miraculous allocation. </p>
</div>
</div>
<div id="outline-container-headline-4" class="outline-2">
<h2 id="headline-4">
Initial ROI report
</h2>
<div id="outline-text-headline-4" class="outline-text-2">
<p>
Let&#39;s check the output of hledger for the calculation of the return on investment.</p>
<div class="src src-sh">
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>hledger -f tir.ledger roi --inv investments --pnl <span style="color:#b44">&#34;unrealized&#34;</span> --value<span style="color:#666">=</span><span style="color:#a2f;font-weight:bold">then</span> --infer-market-prices -e 2023-02-01</span></span></code></pre></div>
</div>
<pre class="example">
+---++------------+------------++---------------+----------+-------------+--------++--------+--------+
|   ||      Begin |        End || Value (begin) | Cashflow | Value (end) |    PnL ||    IRR |    TWR |
+===++============+============++===============+==========+=============+========++========+========+
| 1 || 2023-01-01 | 2023-01-31 ||             0 | $ 100.00 |    $ 102.00 | $ 2.00 || 26.26% | 26.26% |
+---++------------+------------++---------------+----------+-------------+--------++--------+--------+

</pre>
<p>
In this command:</p>
<ol>
<li><code class="verbatim">--inv</code> queries for transactions involving accounts that contain &#34;investments&#34;</li>
<li>the <code class="verbatim">--pnl</code> indicates which account tracks the returns, in our case, it is unrealized pnl – we didn&#39;t sell yet.</li>
</ol>
<p>
Notice that we need to pass the end date, so hledger can take into account the market value we passed with the &#34;P&#34; directive.</p>
<p>
We can see the IRR and TWR are the same.
We can check that this number is the anual rate, with monthly rate of 2%.</p>
<div class="src src-python">
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#a2f">print</span>(<span style="color:#b44">f</span><span style="color:#b44">&#34;</span><span style="color:#b68;font-weight:bold">{</span>((<span style="color:#666">1</span> <span style="color:#666">+</span> <span style="color:#666">2</span><span style="color:#666">/</span><span style="color:#666">100</span>)<span style="color:#666">**</span>(<span style="color:#666">365</span><span style="color:#666">/</span><span style="color:#666">31</span>) <span style="color:#666">-</span> <span style="color:#666">1</span>) <span style="color:#666">*</span> <span style="color:#666">100</span><span style="color:#b68;font-weight:bold">:</span><span style="color:#b44">.2f</span><span style="color:#b68;font-weight:bold">}</span><span style="color:#b44"> % considering number of days&#34;</span>)</span></span></code></pre></div>
</div>
<pre class="example">
26.26 % considering number of days
</pre>
</div>
</div>
<div id="outline-container-headline-5" class="outline-2">
<h2 id="headline-5">
Cash flow event
</h2>
<div id="outline-text-headline-5" class="outline-text-2">
<p>
Next month, we add another share,
On the day we buy, the share market value increased.</p>
<div class="src src-ledger">
<pre tabindex="0"><code class="language-ledger" data-lang="ledger">2023-03-01 * Buy some shares
    assets:investments:stocks  1 SHARE @ $ 103.00
    assets:cash</code></pre>
</div>
</div>
</div>
<div id="outline-container-headline-6" class="outline-2">
<h2 id="headline-6">
What is IRR (internal rate of return)
</h2>
<div id="outline-text-headline-6" class="outline-text-2">
<p>
Let&#39;s check out the return of investment report.</p>
<div class="src src-sh">
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>hledger -f tir.ledger roi --inv investments --pnl <span style="color:#b44">&#34;unrealized&#34;</span> --value<span style="color:#666">=</span><span style="color:#a2f;font-weight:bold">then</span> --infer-market-price</span></span></code></pre></div>
</div>
<pre class="example">
+---++------------+------------++---------------+----------+-------------+--------++--------+-------+
|   ||      Begin |        End || Value (begin) | Cashflow | Value (end) |    PnL ||    IRR |   TWR |
+===++============+============++===============+==========+=============+========++========+=======+
| 1 || 2023-01-01 | 2023-03-01 ||             0 | $ 203.00 |    $ 206.00 | $ 3.00 || 19.35% | 9.35% |
+---++------------+------------++---------------+----------+-------------+--------++--------+-------+

</pre>
<p>
First thing we notice is that the IRR and TWR are different.
What the number means?
Which one is better?
We can check the calculation it with,</p>
\begin{equation}
\dfrac{206}{(1 + IRR)^2} - \dfrac{103}{(1 + IRR)^2} - 100 = 0
\end{equation}
<p>
This means:</p>
<ol>
<li>we bring the final value to the present based on a rate that &#34;acts&#34; with compound interest during the period.</li>
<li>the cash flow of the new investment is also brought to the present</li>
</ol>
<p>So the IRR is the rate that acts equally on all cash flows and is responsible to generate the final return.
It takes into account time, older cash flows have a bigger impact.
That is why it is called &#34;time value of money&#34;</p>
<div class="src src-python">
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#a2f;font-weight:bold">from</span> <span style="color:#00f;font-weight:bold">scipy.optimize</span> <span style="color:#a2f;font-weight:bold">import</span> fsolve
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span><span style="color:#a2f;font-weight:bold">def</span> <span style="color:#00a000">f</span>(x):
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span>    <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">206</span> <span style="color:#666">/</span> (<span style="color:#666">1</span> <span style="color:#666">+</span> x)<span style="color:#666">**</span>(<span style="color:#666">28</span><span style="color:#666">+</span><span style="color:#666">31</span><span style="color:#666">+</span><span style="color:#666">1</span>) <span style="color:#666">-</span> <span style="color:#666">103</span> <span style="color:#666">/</span> (<span style="color:#666">1</span> <span style="color:#666">+</span> x)<span style="color:#666">**</span>(<span style="color:#666">31</span><span style="color:#666">+</span><span style="color:#666">28</span>) <span style="color:#666">-</span> <span style="color:#666">100</span> 
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span><span>x <span style="color:#666">=</span> fsolve(f, x0<span style="color:#666">=</span><span style="color:#666">0</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span><span><span style="color:#a2f">print</span>(<span style="color:#b44">f</span><span style="color:#b44">&#34;Daily rate </span><span style="color:#b68;font-weight:bold">{</span>x[<span style="color:#666">0</span>]<span style="color:#666">*</span><span style="color:#666">100</span><span style="color:#b68;font-weight:bold">:</span><span style="color:#b44">.2f</span><span style="color:#b68;font-weight:bold">}</span><span style="color:#b44"> %&#34;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8</span><span><span style="color:#a2f">print</span>(<span style="color:#b44">f</span><span style="color:#b44">&#34;Annualized </span><span style="color:#b68;font-weight:bold">{</span>((<span style="color:#666">1</span> <span style="color:#666">+</span> x[<span style="color:#666">0</span>])<span style="color:#666">**</span>(<span style="color:#666">365</span>) <span style="color:#666">-</span> <span style="color:#666">1</span>) <span style="color:#666">*</span> <span style="color:#666">100</span><span style="color:#b68;font-weight:bold">:</span><span style="color:#b44">.2f</span><span style="color:#b68;font-weight:bold">}</span><span style="color:#b44"> %&#34;</span>)</span></span></code></pre></div>
</div>
<pre class="example">
Daily rate 0.05 %
Annualized 19.35 %
</pre>
<p>
Notice that the first day of March is included in the computation of the present value of the final portfolio value.
Meanwhile, when bringing the stock purchase cash flow, it does not consider this first day.
Even though the purchase was on this day.
This means that the purchase cash flow occurs a the beginning of the day and the final return cash flow at the end<sup class="footnote-reference"><a id="footnote-reference-3" href="#footnote-3">3</a></sup>.</p>
</div>
</div>
<div id="outline-container-headline-7" class="outline-2">
<h2 id="headline-7">
What is TWR (time weighted return)
</h2>
<div id="outline-text-headline-7" class="outline-text-2">
<p>
The TWR <strong>does not consider the impact of the cash flow</strong> and measures how much the asset is increasing in market value – or decreasing.
It is the information to use when comparing your return with market portfolio.
Can inform if our timing and allocation is good or bad compared with actively managed portfolio.</p>
<p>
If we check the monthly calculation,</p>
<div class="src src-sh">
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>hledger -f tir.ledger roi --inv investments --pnl <span style="color:#b44">&#34;unrealized&#34;</span> --value<span style="color:#666">=</span><span style="color:#a2f;font-weight:bold">then</span>,$ --infer-market-price --monthly</span></span></code></pre></div>
</div>
<pre class="example">
+---++------------+------------++---------------+----------+-------------+--------++--------+--------+
|   ||      Begin |        End || Value (begin) | Cashflow | Value (end) |    PnL ||    IRR |    TWR |
+===++============+============++===============+==========+=============+========++========+========+
| 1 || 2023-01-01 | 2023-01-31 ||             0 | $ 100.00 |    $ 102.00 | $ 2.00 || 26.26% | 26.26% |
| 2 || 2023-02-01 | 2023-02-28 ||      $ 102.00 |        0 |    $ 103.00 | $ 1.00 || 13.56% | 13.56% |
| 3 || 2023-03-01 | 2023-03-31 ||      $ 103.00 | $ 103.00 |    $ 206.00 |      0 ||  0.00% |  0.00% |
+---++------------+------------++---------------+----------+-------------+--------++--------+--------+

</pre>
<p>
This is using the formula<sup class="footnote-reference"><a id="footnote-reference-4" href="#footnote-4">4</a></sup>,</p>
\begin{equation}
R = \dfrac{V_{end} - (V_{bgn} + C_f)}{V_{bgn} + C_f}
\end{equation}
<p>which considers the cash flow.
Lets do a quick check.</p>
<p>
#+name:p1</p>
<div class="src src-python">
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>Vend <span style="color:#666">=</span> <span style="color:#666">102</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>Vbgn <span style="color:#666">=</span> <span style="color:#666">0</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>Cf <span style="color:#666">=</span> <span style="color:#666">100</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span>R1 <span style="color:#666">=</span> (Vend <span style="color:#666">-</span> (Vbgn <span style="color:#666">+</span> Cf)) <span style="color:#666">/</span> (Vbgn <span style="color:#666">+</span> Cf)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span>period_days <span style="color:#666">=</span> <span style="color:#666">31</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span><span><span style="color:#a2f">print</span>(<span style="color:#b44">f</span><span style="color:#b44">&#34;Period return </span><span style="color:#b68;font-weight:bold">{</span>R1<span style="color:#666">*</span><span style="color:#666">100</span><span style="color:#b68;font-weight:bold">:</span><span style="color:#b44">.2f</span><span style="color:#b68;font-weight:bold">}</span><span style="color:#b44"> %&#34;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span><span><span style="color:#a2f">print</span>(<span style="color:#b44">f</span><span style="color:#b44">&#34;Period return annualized </span><span style="color:#b68;font-weight:bold">{</span>((<span style="color:#666">1</span> <span style="color:#666">+</span> R1)<span style="color:#666">**</span>(<span style="color:#666">365</span><span style="color:#666">/</span>period_days)<span style="color:#666">-</span> <span style="color:#666">1</span>)<span style="color:#666">*</span><span style="color:#666">100</span><span style="color:#b68;font-weight:bold">:</span><span style="color:#b44">.2f</span><span style="color:#b68;font-weight:bold">}</span><span style="color:#b44"> %&#34;</span>)</span></span></code></pre></div>
</div>
<pre class="example">
Period return 2.00 %
Period return annualized 26.26 %
</pre>
<p>
Doing a quick sanity check to see if we got it right,</p>
<p>
#+name:p2</p>
<div class="src src-python">
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>Vend <span style="color:#666">=</span> <span style="color:#666">103</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>Vbgn <span style="color:#666">=</span> <span style="color:#666">102</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>Cf <span style="color:#666">=</span> <span style="color:#666">0</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span>R2 <span style="color:#666">=</span> (Vend <span style="color:#666">-</span> (Vbgn <span style="color:#666">+</span> Cf)) <span style="color:#666">/</span> (Vbgn <span style="color:#666">+</span> Cf)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span>period_days <span style="color:#666">=</span> <span style="color:#666">28</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span><span><span style="color:#a2f">print</span>(<span style="color:#b44">f</span><span style="color:#b44">&#34;Period return </span><span style="color:#b68;font-weight:bold">{</span>R2<span style="color:#666">*</span><span style="color:#666">100</span><span style="color:#b68;font-weight:bold">:</span><span style="color:#b44">.2f</span><span style="color:#b68;font-weight:bold">}</span><span style="color:#b44"> %&#34;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span><span><span style="color:#a2f">print</span>(<span style="color:#b44">f</span><span style="color:#b44">&#34;Period return annualized </span><span style="color:#b68;font-weight:bold">{</span>((<span style="color:#666">1</span> <span style="color:#666">+</span> R2)<span style="color:#666">**</span>(<span style="color:#666">365</span><span style="color:#666">/</span>period_days)<span style="color:#666">-</span> <span style="color:#666">1</span>)<span style="color:#666">*</span><span style="color:#666">100</span><span style="color:#b68;font-weight:bold">:</span><span style="color:#b44">.2f</span><span style="color:#b68;font-weight:bold">}</span><span style="color:#b44"> %&#34;</span>)</span></span></code></pre></div>
</div>
<pre class="example">
Period return 0.98 %
Period return annualized 13.56 %
</pre>
<p>
Then, the total for the period is,</p>
<div class="src src-python">
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>R <span style="color:#666">=</span> <span style="color:#666">206</span><span style="color:#666">/</span><span style="color:#666">203</span> <span style="color:#666">-</span><span style="color:#666">1</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>period_days <span style="color:#666">=</span> <span style="color:#666">31</span> <span style="color:#666">+</span> <span style="color:#666">28</span> <span style="color:#666">+</span> <span style="color:#666">1</span> 
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span><span style="color:#a2f">print</span>(<span style="color:#b44">f</span><span style="color:#b44">&#34;Period return </span><span style="color:#b68;font-weight:bold">{</span>R<span style="color:#666">*</span><span style="color:#666">100</span><span style="color:#b68;font-weight:bold">:</span><span style="color:#b44">.2f</span><span style="color:#b68;font-weight:bold">}</span><span style="color:#b44"> %&#34;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span><span style="color:#a2f">print</span>(<span style="color:#b44">f</span><span style="color:#b44">&#34;Period return annualized </span><span style="color:#b68;font-weight:bold">{</span>((<span style="color:#666">1</span> <span style="color:#666">+</span> R)<span style="color:#666">**</span>(<span style="color:#666">365</span><span style="color:#666">/</span>period_days)<span style="color:#666">-</span> <span style="color:#666">1</span>)<span style="color:#666">*</span><span style="color:#666">100</span><span style="color:#b68;font-weight:bold">:</span><span style="color:#b44">.2f</span><span style="color:#b68;font-weight:bold">}</span><span style="color:#b44"> %&#34;</span>)</span></span></code></pre></div>
</div>
<pre class="example">
Period return 1.48 %
Period return annualized 9.33 %
</pre>
<div class="src src-sh">
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>hledger -f tir.ledger roi --inv investments --pnl <span style="color:#b44">&#34;unrealized&#34;</span> --value<span style="color:#666">=</span><span style="color:#a2f;font-weight:bold">then</span>,$ --infer-market-price</span></span></code></pre></div>
</div>
<pre class="example">
+---++------------+------------++---------------+----------+-------------+--------++--------+-------+
|   ||      Begin |        End || Value (begin) | Cashflow | Value (end) |    PnL ||    IRR |   TWR |
+===++============+============++===============+==========+=============+========++========+=======+
| 1 || 2023-01-01 | 2023-03-01 ||             0 | $ 203.00 |    $ 206.00 | $ 3.00 || 19.35% | 9.35% |
+---++------------+------------++---------------+----------+-------------+--------++--------+-------+

</pre>
</div>
</div>
<div class="footnotes">
<hr class="footnotes-separatator">
<div class="footnote-definitions">
<div class="footnote-definition">
<sup id="footnote-1"><a href="#footnote-reference-1">1</a></sup>
<div class="footnote-body">
<p>This price refers to the end of the day. With <code class="verbatim">--infer-market-prices</code> options, and not providing the price directive with <code class="verbatim">P</code>, hledger would take the value of the transaction as the day price, which might not be desired if the price fluctuated during the day. For example, bought at \$100 in the morning but at the end of the day it is now \$103. </p>
</div>
</div>
<div class="footnote-definition">
<sup id="footnote-2"><a href="#footnote-reference-2">2</a></sup>
<div class="footnote-body">
<p>Valuation: The act of estimating the value of something. In the case of a stock, we can have the market decide the value.</p>
</div>
</div>
<div class="footnote-definition">
<sup id="footnote-4"><a href="#footnote-reference-4">4</a></sup>
<div class="footnote-body">
<p><a href="https://en.wikipedia.org/wiki/Time-weighted_return">Time-weighted return - Wikipedia</a> </p>
</div>
</div>
</div>
</div>

    </div>
  </article>

   

<hr />
<h2>See Also</h2>
<ul>
  
  <li><a href="../../notes/how-to-budget/">How to budget</a></li>
  
  <li><a href="../../notes/portfolio-performance/">Performance de um portfolio</a></li>
  
  <li><a href="../../notes/finace-python/">Finance data in python</a></li>
  
</ul>



  
  




  <div class="blog-post-comments">
    
      <div id="disqus_thread">
  <script type="text/javascript">
    (function() {
      
      
      
      
    
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = 'nasseralkmim';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="https://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

    
  </div>



  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="../../">home</a></li>
         
          <li><a href="../../notes">notes</a></li>
         
          <li><a href="../../tags">tags</a></li>
         
          <li><a href="../../about">about</a></li>
        
      </ul>
    </div>

    
    <div id="toc-footer" style="display: none">
      <nav id="TableOfContents">
<ul>
<li><a href="#headline-1">Introduction</a>
</li>
<li><a href="#headline-2">Initial investment</a>
</li>
<li><a href="#headline-3">Cost and value</a>
</li>
<li><a href="#headline-4">Initial ROI report</a>
</li>
<li><a href="#headline-5">Cash flow event</a>
</li>
<li><a href="#headline-6">What is IRR (internal rate of return)</a>
</li>
<li><a href="#headline-7">What is TWR (time weighted return)</a>
</li>
</ul>
</nav>
    </div>
    

    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fnasseralkmim.github.io%2fnotes%2fpta-computing-returns%2f" aria-label="Facebook">
      <i class="fab fa-facebook fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fnasseralkmim.github.io%2fnotes%2fpta-computing-returns%2f&text=Computing%20returns%20with%20plain%20text%20account%20tools" aria-label="Twitter">
      <i class="fab fa-twitter fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fnasseralkmim.github.io%2fnotes%2fpta-computing-returns%2f&title=Computing%20returns%20with%20plain%20text%20account%20tools" aria-label="Linkedin">
      <i class="fab fa-linkedin fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fnasseralkmim.github.io%2fnotes%2fpta-computing-returns%2f&is_video=false&description=Computing%20returns%20with%20plain%20text%20account%20tools" aria-label="Pinterest">
      <i class="fab fa-pinterest fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Computing%20returns%20with%20plain%20text%20account%20tools&body=Check out this article: https%3a%2f%2fnasseralkmim.github.io%2fnotes%2fpta-computing-returns%2f" aria-label="Email">
      <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fnasseralkmim.github.io%2fnotes%2fpta-computing-returns%2f&title=Computing%20returns%20with%20plain%20text%20account%20tools" aria-label="Pocket">
      <i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fnasseralkmim.github.io%2fnotes%2fpta-computing-returns%2f&title=Computing%20returns%20with%20plain%20text%20account%20tools" aria-label="reddit">
      <i class="fab fa-reddit fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fnasseralkmim.github.io%2fnotes%2fpta-computing-returns%2f&name=Computing%20returns%20with%20plain%20text%20account%20tools&description=Introduction%20In%20this%20post%2c%20I%20go%20over%20an%20example%20of%20how%20to%20compute%20returns%20using%20a%20plain%20text%20accounting%20%28PTA%29%20tool%20hledger." aria-label="Tumblr">
      <i class="fab fa-tumblr fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fnasseralkmim.github.io%2fnotes%2fpta-computing-returns%2f&t=Computing%20returns%20with%20plain%20text%20account%20tools" aria-label="Hacker News">
      <i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>

    <div id="actions-footer">
      
        <a id="menu-toggle" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;" aria-label="Menu">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
        <a id="toc-toggle" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;" aria-label="TOC">
          <i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share-toggle" class="icon" href="#" onclick="$('#share-footer').toggle();return false;" aria-label="Share">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2024  Nasser 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="../../">home</a></li>
         
        <li><a href="../../notes">notes</a></li>
         
        <li><a href="../../tags">tags</a></li>
         
        <li><a href="../../about">about</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=../../lib/font-awesome/css/all.min.css>
<script src=../../lib/jquery/jquery.min.js></script>
<script src=../../js/main.js></script>

<script src=../../js/code-copy.js></script>



  


<script>
  MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']]
    },
    svg: {
      fontCache: 'global'
    }
  };
</script>
<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
<script defer language="javascript" type="text/javascript"  src="../../js/dynamic-toc.js"></script>

</html>
