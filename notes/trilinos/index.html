<!DOCTYPE html>
<html lang="en-us">

<head>
  <title>Trilinos notes | Nasser&#39;s personal website</title>

  <meta charset="UTF-8">
  <meta name="language" content="en">
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  
  

  <link rel="shortcut icon" type="image/png" href="/favicon.ico" />


  
  
    
 
  
  
  
  
  
  
    
    <link type="text/css" rel="stylesheet" href="/css/post.min.a74e392619e10b534ed018113147a605e2dfdc329ba2e2de512308b7b193758c.css" integrity="sha256-p045JhnhC1NO0BgRMUemBeLf3DKbouLeUSMIt7GTdYw="/>
  
    
    <link type="text/css" rel="stylesheet" href="/css/custom.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" integrity="sha256-47DEQpj8HBSa&#43;/TImW&#43;5JCeuQeRkm5NMpJWZG3hSuFU="/>
  
  
   
   
    

<script type="application/ld+json">
  
    { 
      "@context": "http://schema.org", 
      "@type": "WebSite", 
      "url": "https:\/\/nasseralkmim.github.io\/notes\/trilinos\/",
      "name": "Trilinos notes",
      "author": {
        "@type": "Person",
        "name": ""
      },
      "description": ""
    }
  
  </script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-74704246-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
</head>

<body>
  <div class="burger__container">
  <div class="burger" aria-controls="navigation" aria-label="Menu">
    <div class="burger__meat burger__meat--1"></div>
    <div class="burger__meat burger__meat--2"></div>
    <div class="burger__meat burger__meat--3"></div>
  </div>
</div>
 

  <nav class="nav" id="navigation">
  <ul class="nav__list">
    
    
      <li>
        <a  href="/">home</a>
      </li>
    
      <li>
        <a  class="active"
         href="/notes">notes</a>
      </li>
    
  </ul>
</nav>


  <main>
    
    

    <div class="flex-wrapper">
      <div class="post__container">
        <div class="post">
          <header class="post__header">
            <h1 id="post__title">Trilinos notes</h1>
            <time datetime="2021-04-18 00:00:00 &#43;0000 UTC" class="post__date">Apr 18 2021</time> 
          </header>
          <article class="post__content">
              

<div id="outline-container-headline-1" class="outline-2">
<h2 id="headline-1">
Basics
</h2>
<div id="outline-text-headline-1" class="outline-text-2">
<div id="outline-container-headline-2" class="outline-4">
<h4 id="headline-2">
What is Trilinos?
</h4>
<div id="outline-text-headline-2" class="outline-text-4">
<p>
Object oriented framework for solving math and engineering problems (linear system of equations).
Can solve problems up to 2 billion unknowns.</p>
</div>
</div>
<div id="outline-container-headline-3" class="outline-4">
<h4 id="headline-3">
What packages make Trilinos?
</h4>
<div id="outline-text-headline-3" class="outline-text-4">
<p>Trilinos is made out of multiple packages.
The packages can depend on each other.</p>
<p>
Documentation for each package can be found <a href="https://trilinos.github.io/packages.html">Packages | Trilinos</a>.</p>
<p>
The packages are divided in core &#34;services&#34;, solvers, methods and discretization.</p>
<div id="outline-container-headline-4" class="outline-6">
<h6 id="headline-4">
Core
</h6>
<div id="outline-text-headline-4" class="outline-text-6">
<div id="outline-container-headline-5" class="outline-8">
<h8 id="headline-5">
Petra
</h8>
<div id="outline-text-headline-5" class="outline-text-8">
<p>
Common language for distributed <span style="text-decoration: underline;">sparse</span> linear algebra objects.
Petra means foundation in greek.</p>
<p>
Epetra (essential petra) is the legacy version.
Tpetra is the Templetade petra, next generation version.
Tpetra allows multicore CPU and hybrid CPU/GPU.</p>
<p>
Typical construction sequence:</p>
<ol>
<li>
<p><code class="verbatim">Construct Comm</code></p>
</li>
<li>
<p><code class="verbatim">Construct Map</code> describe parallel layout</p>
<ol>
<li>
<p>two maps define an export/import object</p>
</li>
</ol>
</li>
<li>
<p><code class="verbatim">Construct</code> computationla object (matrix and vectors)</p>
</li>
</ol>
</div>
</div>
<div id="outline-container-headline-6" class="outline-8">
<h8 id="headline-6">
Teuchos
</h8>
<div id="outline-text-headline-6" class="outline-text-8">
<p>
Teuchos is an utility package.
It helps Trilinos work on many platforms as possible.</p>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-7" class="outline-6">
<h6 id="headline-7">
Solvers
</h6>
<div id="outline-text-headline-7" class="outline-text-6">
<div id="outline-container-headline-8" class="outline-8">
<h8 id="headline-8">
AztecOO
</h8>
<div id="outline-text-headline-8" class="outline-text-8">
<p>Iterative linear solver, e.g., CG and GMRES.</p>
</div>
</div>
<div id="outline-container-headline-9" class="outline-8">
<h8 id="headline-9">
Belos
</h8>
<div id="outline-text-headline-9" class="outline-text-8">
<p>Next generation linear iterative solver.
Improves on AztecOO by allowing control over data layout and kernels.
Used for parallel solution schemes.</p>
</div>
</div>
<div id="outline-container-headline-10" class="outline-8">
<h8 id="headline-10">
ML preconditioners
</h8>
<div id="outline-text-headline-10" class="outline-text-8">
<p>
Multi-level preconditioners, also known as multigrid methods (algebraic, with or without somoothed aggregation).</p>
<p>
Can be used independent of other trilinos packages.
Accept <code class="verbatim">Petra</code> objects, sparse matrices and dense vectors.</p>
</div>
</div>
<div id="outline-container-headline-11" class="outline-8">
<h8 id="headline-11">
MueLu
</h8>
<div id="outline-text-headline-11" class="outline-text-8">
<p>
Next generation version of ML.</p>
<p>
Decouple computational kernels from algorithms, facilitating development of new algorithms.
Can exploit Tpetra features for parallel solution.</p>
</div>
</div>
<div id="outline-container-headline-12" class="outline-8">
<h8 id="headline-12">
Amesos
</h8>
<div id="outline-text-headline-12" class="outline-text-8">
<p>
Direct solver.</p>
</div>
</div>
<div id="outline-container-headline-13" class="outline-8">
<h8 id="headline-13">
ShyLU
</h8>
<div id="outline-text-headline-13" class="outline-text-8">
<p>
Subdomain solvers.</p>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-14" class="outline-6">
<h6 id="headline-14">
Abstract solver interfaces
</h6>
<div id="outline-text-headline-14" class="outline-text-6">
<div id="outline-container-headline-15" class="outline-8">
<h8 id="headline-15">
Stratimikos
</h8>
<div id="outline-text-headline-15" class="outline-text-8">
<p>
Interface to many different packages.
Can create and use linear solvers.</p>
<p>
Options are specified with <code class="verbatim">Teuchos::ParameterList</code>.
Solver and options can change at run time.</p>
<p>
Run time differentiate &#34;dynamic&#34; from &#34;static&#34; linking.
Dynamic linking occurs at runtime.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-16" class="outline-4">
<h4 id="headline-16">
How to install?
</h4>
<div id="outline-text-headline-16" class="outline-text-4">
<div id="outline-container-headline-17" class="outline-6">
<h6 id="headline-17">
References
</h6>
<div id="outline-text-headline-17" class="outline-text-6">
<ul>
<li>
<p>Bartlett, R. A. (). Trilinos Configure, Build, Test, and Install
Reference Guide. , (), 51.</p>
</li>
</ul>
</div>
</div>
<div id="outline-container-headline-18" class="outline-6">
<h6 id="headline-18">
Download the source code
</h6>
<div id="outline-text-headline-18" class="outline-text-6">
<p>
You will need <code class="verbatim">git</code> for this step.
To download just clone the repository to a directory <code class="verbatim">git clone https://github.com/trilinos/Trilinos</code></p>
</div>
</div>
<div id="outline-container-headline-19" class="outline-6">
<h6 id="headline-19">
Requirements
</h6>
<div id="outline-text-headline-19" class="outline-text-6">
<p>Instruction for Linux based systems.
I use windows with Windows Subsystem for Linux (wsl) <a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10">Install WSL on Windows 10 | Microsoft Docs</a></p>
<ol>
<li>
<p>CMake 3.17.1 or newer <code class="verbatim">sudo apt install cmake</code> (*)</p>
</li>
<li>
<p>C and C++ compiler <code class="verbatim">sudo apt install clang</code></p>
</li>
<li>
<p>Optionally a Fortran compiler <code class="verbatim">sudo apt install gfortran</code></p>
</li>
<li>
<p>Optionally an installation of MPI (<strong>*</strong>) <code class="verbatim">sudo apt install mpi</code></p>
</li>
</ol>
<p>(*) One of the current requirements is Cmake 3.17.1 or newer, and the version in the Ubunto is 3.16.
I followed the steps in this <a href="https://askubuntu.com/questions/355565/how-do-i-install-the-latest-version-of-cmake-from-the-command-line">software installation - How do I install the latest version of cmake from the…</a>.
The <code class="verbatim">cmake -version</code> currently available is <code class="verbatim">3.20.1</code>.</p>
<p>
(<strong>*</strong>) MPI is a standardized API for parallel computing, <a href="https://www.open-mpi.org/faq/?category=general#what-is-mpi">FAQ: General information about the Open MPI Project</a>.</p>
</div>
</div>
<div id="outline-container-headline-20" class="outline-6">
<h6 id="headline-20">
Configuration
</h6>
<div id="outline-text-headline-20" class="outline-text-6">
<div id="outline-container-headline-21" class="outline-8">
<h8 id="headline-21">
Introduction
</h8>
<div id="outline-text-headline-21" class="outline-text-8">
<p>
CMake is used to provide configuration of what to build in the form of a Makefile.
It is recommended to create a separate folder from the source code to put the build files.
The folder structure is assuming that trilinos in your ${HOME} directory:</p>
<pre class="example">
trilinos
|   Trilinos &lt;- source code
|   build &lt;- parallel build directory
|   |   do_configure
</pre>
<p>
The <code class="verbatim">do_configure</code> file contains the bash script that runs CMake with the specific configurations.
This configurations are going to depend on the user&#39;s specific needs.</p>
</div>
</div>
<div id="outline-container-headline-22" class="outline-8">
<h8 id="headline-22">
Simple configuration
</h8>
<div id="outline-text-headline-22" class="outline-text-8">
<p>This configuration does not enables any packages.</p>
<ol>
<li>
<p><code class="verbatim">:BOOL=ON</code> is equivalent to <code class="verbatim">=ON</code></p>
</li>
<li>
<p><code class="verbatim">CMAKE_INSTALL_PREFIX</code> prefix for installing, where the binaries will be located</p>
<ol>
<li>
<p>from that prefix, the includes will be on <code class="verbatim">/include/</code>, libraries on <code class="verbatim">/lib/</code>, binaries in <code class="verbatim">/bin/</code> and example in <code class="verbatim">/example/</code></p>
</li>
<li>
<p>after build and test, the software will be installed (copied) to its destination folder</p>
</li>
<li>
<p><code class="verbatim">CMakeCache.txt</code> can be viewed after configuring to check the folders</p>
</li>
</ol>
</li>
<li>
<p><code class="verbatim">BUILD_SHARED_LIBS</code> to whether generate or not dynamic shared libraries</p>
</li>
</ol>
<div class="src src-bash">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#!/bin/bash
</span><span style="color:#75715e"></span>
TRILINOS_HOME<span style="color:#f92672">=</span>../Trilinos
INSTALL_PATH<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>HOME<span style="color:#e6db74">}</span>/trilinos

cmake <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  -D CMAKE_INSTALL_PREFIX<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>INSTALL_PATH<span style="color:#e6db74">}</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  -D CMAKE_BUILD_TYPE<span style="color:#f92672">=</span>RELEASE <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  -D BUILD_SHARED_LIBS<span style="color:#f92672">=</span>ON <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>$EXTRA_ARGS <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>$TRILINOS_HOME</code></pre></div>
</div>
</div>
</div>
<div id="outline-container-headline-23" class="outline-8">
<h8 id="headline-23">
<code class="verbatim">CMakeCache.txt</code>
</h8>
<div id="outline-text-headline-23" class="outline-text-8">
<p>This file contains cache variables with all configurations.</p>
<p>
To reconfigure from scratch one needs to delete <code class="verbatim">CMakeCache.txt</code> and the directory <code class="verbatim">CMakeFiles</code>.</p>
<p>
Every time a variable is removed from the configuration the cached version should be deleted.</p>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-24" class="outline-6">
<h6 id="headline-24">
Build
</h6>
<div id="outline-text-headline-24" class="outline-text-6">
<p>
After generating the build environment with CMake, we then build the targets with <code class="verbatim">make</code> org <code class="verbatim">make -j#</code> to use # CPU cores.</p>
<p>
<code class="verbatim">make help</code> will list all targets that are going to be built, the packages and other phony targets (all, clean, install, test).</p>
</div>
</div>
<div id="outline-container-headline-25" class="outline-6">
<h6 id="headline-25">
Install
</h6>
<div id="outline-text-headline-25" class="outline-text-6">
<p>
Finally we install with <code class="verbatim">make install</code>.
The install directory should be specified <em>at configure time</em> (when <code class="verbatim">cmake</code> was called) with the variable <code class="verbatim">CMAKE_INSTALL_PREFIX</code>.</p>
<p>
You can check this variable in the <code class="verbatim">CMakeCache.txt</code></p>
</div>
</div>
<div id="outline-container-headline-26" class="outline-6">
<h6 id="headline-26">
Test
</h6>
<div id="outline-text-headline-26" class="outline-text-6">
<p>
Run <code class="verbatim">ctest</code> to check, if tests were enable to build.</p>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-27" class="outline-4">
<h4 id="headline-27">
Information about Trilinos
</h4>
<div id="outline-text-headline-27" class="outline-text-4">
<p>
Good source is the library of pdfs in <a href="https://github.com/trilinos/trilinos.github.io/tree/master/pdfs">trilinos.github.io/pdfs at master · trilinos/trilinos.github.io · GitHub</a>.</p>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-28" class="outline-2">
<h2 id="headline-28">
PyTrilinos
</h2>
<div id="outline-text-headline-28" class="outline-text-2">
<div id="outline-container-headline-29" class="outline-4">
<h4 id="headline-29">
What is Pytrilinos?
</h4>
<div id="outline-text-headline-29" class="outline-text-4">
<p>Python wrapper for trilinos packages.
It is a trilinos package, meaning that is distributed and built with trilinos.
It is also a python library, meaning that it can be imported in python with <code class="verbatim">from PyTrilinos import &lt;package&gt;</code>.</p>
</div>
</div>
<div id="outline-container-headline-30" class="outline-4">
<h4 id="headline-30">
Why using python with Trilinos?
</h4>
<div id="outline-text-headline-30" class="outline-text-4">
<p>Good to get familiarized with Trilinos multiple packages and tools.
Also good for rapid prototyping algorithms?</p>
</div>
</div>
<div id="outline-container-headline-31" class="outline-4">
<h4 id="headline-31">
Configuring
</h4>
<div id="outline-text-headline-31" class="outline-text-4">
<p>This configuration enables Pytrilinos.
By default, this configuration enables all the required Trilinos packages which have a python interface.
This includes AztecOO and ML.
To avoid building all packages turn off <code class="verbatim">Trilinos_ENABLE_ALL_PACKAGES</code> and enable specific ones with <code class="verbatim">Trilinos_ENABLE_&lt;package&gt;</code>.</p>
<p>
The build time is considerable, and can be reduced with no tests or examples are build.
The variables <code class="verbatim">Trilinos_ENABLE_TESTS</code> and <code class="verbatim">Trilinos_ENABLE_EXAMPLES</code> can be turned off to reduce build time.</p>
<p>
I got errors saying that some dependences were missing.</p>
<ol>
<li>
<p>BLAS and LAPACK <code class="verbatim">sudo apt install libblas-dev liblapack-dev</code> (**)</p>
</li>
<li>
<p>netcdf <code class="verbatim">sudo apt install libnetcdf-dev</code></p>
</li>
<li>
<p>for pytrilinos had to install SWIG <code class="verbatim">sudo apt install swig</code> (*)</p>
</li>
<li>
<p>also had to install Boost <code class="verbatim">sudo apt install libboost-dev</code></p>
</li>
</ol>
<p>(*) SWIG is a simplified wrapper and interface generator that connects C++ with python (and other languages).</p>
<p>
(**) BLAS and LAPACK are linear algebra software.</p>
<div class="src src-bash">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#!/bin/bash
</span><span style="color:#75715e"></span>
TRILINOS_HOME<span style="color:#f92672">=</span>../Trilinos
INSTALL_PATH<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>HOME<span style="color:#e6db74">}</span>/trilinos

cmake <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  -D CMAKE_INSTALL_PREFIX<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>INSTALL_PATH<span style="color:#e6db74">}</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  -D CMAKE_BUILD_TYPE<span style="color:#f92672">=</span>RELEASE <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  -D BUILD_SHARED_LIBS<span style="color:#f92672">=</span>ON <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  -D Trilinos_ENABLE_PyTrilinos<span style="color:#f92672">=</span>ON <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>$EXTRA_ARGS <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>$TRILINOS_HOME</code></pre></div>
</div>
</div>
</div>
<div id="outline-container-headline-32" class="outline-4">
<h4 id="headline-32">
Packages installed
</h4>
<div id="outline-text-headline-32" class="outline-text-4">
<p>
After building the project.
The following packages are available in the build folder.</p>
<ol>
<li>
<p>PyTrilinos</p>
</li>
<li>
<p>amesos</p>
</li>
<li>
<p>amesos2</p>
</li>
<li>
<p>anasazi</p>
</li>
<li>
<p>aztecoo</p>
</li>
<li>
<p>belos</p>
</li>
<li>
<p>common</p>
</li>
<li>
<p>domi</p>
</li>
<li>
<p>epetra</p>
</li>
<li>
<p>epetraext</p>
</li>
<li>
<p>galeri</p>
</li>
<li>
<p>ifpack</p>
</li>
<li>
<p>ifpack2</p>
</li>
<li>
<p>intrepid2</p>
</li>
<li>
<p>isorropia</p>
</li>
<li>
<p>kokkos</p>
</li>
<li>
<p>kokkos-kernels</p>
</li>
<li>
<p>komplex</p>
</li>
<li>
<p>ml</p>
</li>
<li>
<p>muelu</p>
</li>
<li>
<p>nox</p>
</li>
<li>
<p>pamgen</p>
</li>
<li>
<p>pliris</p>
</li>
<li>
<p>rtop</p>
</li>
<li>
<p>sacado</p>
</li>
<li>
<p>seacas</p>
</li>
<li>
<p>shards</p>
</li>
<li>
<p>shylu</p>
</li>
<li>
<p>stk</p>
</li>
<li>
<p>stratimikos</p>
</li>
<li>
<p>teko</p>
</li>
<li>
<p>teuchos</p>
</li>
<li>
<p>thyra</p>
</li>
<li>
<p>tpetra</p>
</li>
<li>
<p>triutils</p>
</li>
<li>
<p>xpetra</p>
</li>
<li>
<p>zoltan</p>
</li>
<li>
<p>zoltan2</p>
</li>
</ol>
</div>
</div>
<div id="outline-container-headline-33" class="outline-4">
<h4 id="headline-33">
Installing
</h4>
<div id="outline-text-headline-33" class="outline-text-4">
<p>
After configuration, build and installing you should have a bin, include and lib folder in the specified installation folder.
In the lib folder there is a python folder with the python library files.</p>
</div>
</div>
<div id="outline-container-headline-34" class="outline-4">
<h4 id="headline-34">
Testing
</h4>
<div id="outline-text-headline-34" class="outline-text-4">
<p>We need to tell python where the package is located.
This could be done with the CMake variable during build <code class="verbatim">PyTrilinos_INSTALL_PREFIX</code>.
If this variable is not specified the python installation is the same as others Trilinos packages.</p>
<p>
There are many ways to do that.
One is just append to the variable <code class="verbatim">sys.path</code></p>
<div class="src src-python">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> sys
sys<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>append(<span style="color:#e6db74">&#39;/home/nasser/trilinos/lib/python3.8/site-packages&#39;</span>)
<span style="color:#f92672">from</span> PyTrilinos <span style="color:#f92672">import</span> Epetra</code></pre></div>
</div>
<pre class="example">
None
</pre>
<p>A more permanent solution is to create a symbolic link from the Trilinos installation folder to a place where the python interpret looks for libraries.
To check where python looks for packages/libraries:</p>
<div class="src src-shell">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">python -m site</code></pre></div>
</div>
<pre class="example">
sys.path = [
    &#39;/mnt/c/Users/nasse/OneDrive/nasser-website/content/notes/trilinos&#39;,
    &#39;/usr/lib/python38.zip&#39;,
    &#39;/usr/lib/python3.8&#39;,
    &#39;/usr/lib/python3.8/lib-dynload&#39;,
    &#39;/home/nasser/.local/lib/python3.8/site-packages&#39;,
    &#39;/mnt/c/Users/nasse/OneDrive/Academy/Projects/scikit-mechanics&#39;,
    &#39;/usr/local/lib/python3.8/dist-packages&#39;,
    &#39;/usr/lib/python3/dist-packages&#39;,
]
USER_BASE: &#39;/home/nasser/.local&#39; (exists)
USER_SITE: &#39;/home/nasser/.local/lib/python3.8/site-packages&#39; (exists)
ENABLE_USER_SITE: True
</pre>
<p>
So we add a symbolic link for the PyTrilinos python package path intto one of this paths</p>
<div class="src src-shell">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">sudo ln -s /home/nasser/trilinos/lib/python3.8/site-packages/PyTrilinos /usr/local/lib/python3.8/dist-packages</code></pre></div>
</div>
<p>
And to check the link:</p>
<div class="src src-shell">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">cd /usr/local/lib/python3.8/dist-packages/ <span style="color:#f92672">&amp;&amp;</span> ls -l | grep <span style="color:#e6db74">&#34;Tri&#34;</span></code></pre></div>
</div>
<pre class="example">
lrwxrwxrwx  1 root staff     60 Apr 25 16:00 PyTrilinos -&gt; /home/nasser/trilinos/lib/python3.8/site-packages/PyTrilinos
</pre>
<p>
Now we can simply</p>
<div class="src src-python">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> PyTrilinos <span style="color:#f92672">import</span> Epetra</code></pre></div>
</div>
<pre class="example">
None
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-35" class="outline-2">
<h2 id="headline-35">
Exploring Trilinos
</h2>
<div id="outline-text-headline-35" class="outline-text-2">
<div id="outline-container-headline-36" class="outline-4">
<h4 id="headline-36">
Epetra
</h4>
<div id="outline-text-headline-36" class="outline-text-4">
<div class="src src-python">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> PyTrilinos <span style="color:#f92672">import</span> Epetra 
<span style="color:#66d9ef">print</span>(Epetra<span style="color:#f92672">.</span>PyComm())</code></pre></div>
</div>
<pre class="example">
None
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-37" class="outline-2">
<h2 id="headline-37">
Definitions
</h2>
<div id="outline-text-headline-37" class="outline-text-2">
<div id="outline-container-headline-38" class="outline-4">
<h4 id="headline-38">
Framework, toolkit and ecosystem
</h4>
<div id="outline-text-headline-38" class="outline-text-4">
<p>Frameworks are APIs (application programming interface), generally with a big scope.</p>
<p>
Toolkits are &#34;plug-and-play&#34; libraries, small scope and easy to insert on other applications.</p>
<p>
Ecosystem is everything.</p>
</div>
</div>
<div id="outline-container-headline-39" class="outline-4">
<h4 id="headline-39">
Modern scientific design approach
</h4>
<div id="outline-text-headline-39" class="outline-text-4">
<p>
<span style="text-decoration: underline;">Compose application within an ecosystem.</span></p>
<p>
Instead of developing an application.
Applications with its own framework uses some libraries and usually have no intended reuse.</p>
</div>
</div>
<div id="outline-container-headline-40" class="outline-4">
<h4 id="headline-40">
Interoperability versus dependence
</h4>
<div id="outline-text-headline-40" class="outline-text-4">
<p>
Trilinos packages have no explicit dependence on each other, but they often have to interact. 
Trilinos <code class="verbatim">cmake</code> system allows Trilinos packages to interact with each other and at same time keep their independence.</p>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-41" class="outline-2">
<h2 id="headline-41">
References
</h2>
<div id="outline-text-headline-41" class="outline-text-2">
<ol>
<li>
<p><a href="https://github.com/trilinos/trilinos.github.io/tree/master/pdfs">trilinos.github.io/pdfs at master · trilinos/trilinos.github.io · GitHub</a></p>
</li>
</ol>
</div>
</div>


              
                  

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_SVG"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
            showMathMenu: false, //disables context menu
            tex2jax: {
            inlineMath: [ ['$','$'], ['\\(','\\)'] ]
           }
    });
</script>
              
          </article>
          

<ul class="tags__list">
    
    <li class="tag__item">
        <a class="tag__link" href="https://nasseralkmim.github.io/tags/tools/">tools</a>
    </li>
    <li class="tag__item">
        <a class="tag__link" href="https://nasseralkmim.github.io/tags/trilinos/">trilinos</a>
    </li>
    <li class="tag__item">
        <a class="tag__link" href="https://nasseralkmim.github.io/tags/draft/">draft</a>
    </li></ul>

 <div class="pagination">
  
    <a class="pagination__item" href="https://nasseralkmim.github.io/notes/qr-decomposition/">
        <span class="pagination__label">Previous Post</span>
        <span class="pagination__title">QR Decomposition in one image</span>
    </a>
  

  
</div>

          <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "nasseralkmim" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
          <footer class="post__footer">
            


<div class="social-icons">
  
     
    
      <a class="social-icons__link" rel="me" title="Email"
         href="mailto:nasser.alkmim@gmail.com"
         target="_blank" rel="noopener">
        <div class="social-icons__icon" style="background-image: url('https://nasseralkmim.github.io/svg/email.svg')"></div>
      </a>
    
  
     
    
      <a class="social-icons__link" rel="me" title="LinkedIn"
         href="https://www.linkedin.com/in/nasser-alkmim-300882a6/"
         target="_blank" rel="noopener">
        <div class="social-icons__icon" style="background-image: url('https://nasseralkmim.github.io/svg/linkedin.svg')"></div>
      </a>
    
  
     
    
      <a class="social-icons__link" rel="me" title="GitHub"
         href="https://github.com/nasseralkmim"
         target="_blank" rel="noopener">
        <div class="social-icons__icon" style="background-image: url('https://nasseralkmim.github.io/svg/github.svg')"></div>
      </a>
    
  
     
    
      <a class="social-icons__link" rel="me" title="Instagram"
         href="https://instagram.com/naszr"
         target="_blank" rel="noopener">
        <div class="social-icons__icon" style="background-image: url('https://nasseralkmim.github.io/svg/instagram.svg')"></div>
      </a>
    
     
</div>

            <p>© 2021</p>
          </footer>
          </div>
      </div>
      
      <div class="toc-container">
           <div class="toc-post-title">Trilinos notes</div> 
        <nav id="TableOfContents">
<ul>
<li><a href="#headline-1">Basics</a>
<ul>
<li><a href="#headline-2">What is Trilinos?</a>
</li>
<li><a href="#headline-3">What packages make Trilinos?</a>
<ul>
<li><a href="#headline-4">Core</a>
<ul>
<li><a href="#headline-5">Petra</a>
</li>
<li><a href="#headline-6">Teuchos</a>
</li>
</ul>
</li>
<li><a href="#headline-7">Solvers</a>
<ul>
<li><a href="#headline-8">AztecOO</a>
</li>
<li><a href="#headline-9">Belos</a>
</li>
<li><a href="#headline-10">ML preconditioners</a>
</li>
<li><a href="#headline-11">MueLu</a>
</li>
<li><a href="#headline-12">Amesos</a>
</li>
<li><a href="#headline-13">ShyLU</a>
</li>
</ul>
</li>
<li><a href="#headline-14">Abstract solver interfaces</a>
<ul>
<li><a href="#headline-15">Stratimikos</a>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#headline-16">How to install?</a>
<ul>
<li><a href="#headline-17">References</a>
</li>
<li><a href="#headline-18">Download the source code</a>
</li>
<li><a href="#headline-19">Requirements</a>
</li>
<li><a href="#headline-20">Configuration</a>
<ul>
<li><a href="#headline-21">Introduction</a>
</li>
<li><a href="#headline-22">Simple configuration</a>
</li>
<li><a href="#headline-23"><code class="verbatim">CMakeCache.txt</code></a>
</li>
</ul>
</li>
<li><a href="#headline-24">Build</a>
</li>
<li><a href="#headline-25">Install</a>
</li>
<li><a href="#headline-26">Test</a>
</li>
</ul>
</li>
<li><a href="#headline-27">Information about Trilinos</a>
</li>
</ul>
</li>
<li><a href="#headline-28">PyTrilinos</a>
<ul>
<li><a href="#headline-29">What is Pytrilinos?</a>
</li>
<li><a href="#headline-30">Why using python with Trilinos?</a>
</li>
<li><a href="#headline-31">Configuring</a>
</li>
<li><a href="#headline-32">Packages installed</a>
</li>
<li><a href="#headline-33">Installing</a>
</li>
<li><a href="#headline-34">Testing</a>
</li>
</ul>
</li>
<li><a href="#headline-35">Exploring Trilinos</a>
<ul>
<li><a href="#headline-36">Epetra</a>
</li>
</ul>
</li>
<li><a href="#headline-37">Definitions</a>
<ul>
<li><a href="#headline-38">Framework, toolkit and ecosystem</a>
</li>
<li><a href="#headline-39">Modern scientific design approach</a>
</li>
<li><a href="#headline-40">Interoperability versus dependence</a>
</li>
</ul>
</li>
<li><a href="#headline-41">References</a>
</li>
</ul>
</nav>
      </div>
      
    </div>
    

  </main>

   

  
  <script src="/js/index.min.49e4d8a384357d9b445b87371863419937ede9fa77737522ffb633073aebfa44.js" integrity="sha256-SeTYo4Q1fZtEW4c3GGNBmTft6fp3c3Ui/7YzBzrr&#43;kQ=" crossorigin="anonymous"></script>
  
  
  

  
  
  

  
    <script src="/js/table-of-contents.js"></script>
  


</body>

</html>
